<!DOCTYPE html>
<html>
    <head>
        <meta name="robots" content="noindex">
        <link rel="stylesheet" type="text/css" href="../../core/styles-theme.css">
        <link rel="stylesheet" type="text/css" href="../../core/prism.css">
        <style>
        </style>
      </head>
<body>
    <div id="siteSetting" style="text-align: center;">
        <button id="themeSetting">Theme Settings ‚öôÔ∏è</button>
        <div id="themeButtons" style="display: none;">
            <button id="toggleModeButton">Switch to Dark Mode üåë</button>    <button id="decreaseFontSize">‚óÄÔ∏è Decrease</button>    <button id="defaultFontSize">üî† Default Font Size</button>    <button id="increaseFontSize">Increase ‚ñ∂Ô∏è</button>    <button id="toggleFontAccessibility">Font Accessibility: ‚ùå</button>
        </div>
      </div>
<hr>
<h1 style="text-align:center;">Robattle 2023 Certificate Check</h1>
<div>
    <input type="text" id="searchId" placeholder="Enter CERT-ID">
    <br>
    <br>
    <p style="margin: 0 auto; text-align: center;"><button onclick="searchData()" style="width: 30%;">Search</button></p>

    <div id="result" style="text-align: center;">
        <p>IC (Last 4 Digit): <span id="ic"></span></p>
        <p>School / Institute / Group: <span id="school"></span></p>
        <p>Achievement / Join in: <span id="part"></span></p>
        <p>Certificate Status: <span id="certificateStatus"></span></p>
    </div>
</div>
<br>
<hr>
<h2 style="text-align: center;">Informations</h2>
<p style="text-align: center;"><img src="example.png" atl="example-image" style="width:50%;height:50%"></p>
<p style="text-align: center;"><em>Example where to get Certificate ID</p></em>
<p>Example "MDEyM1JCMjNDQi1QR01JREFOSUVMCg==" will be decode as "0123RB23CB-PGMIDANIEL" in base-64
    <ul>
        <li>First 4 Digit is the last 4 digit in the IC (in this case 0123)</li>
        <li>Next is what the participant joined, eg RB23CB-P is Combat Robat as Participant</li>
        <li>Next is institute/school name (max 14 char, in this case GMI)</li>
        <li>Last is the name of participant (max 12 char, in this case DANIEL)</li>
    </ul>
    If the Certificate ID is not matching with detail on certificate meaning it being tampered or not authentic. 
</p>
<hr>
    <p>Note: For privacy we only give snipped data only</p>
    <p>SHA-5 JSON:  | Last update on: </p>
    <script>
let data = []; // This will hold the JSON data

// Function to load and parse JSON file
function loadJSON(url) {
    fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(json => {
            data = json;
        })
        .catch(error => console.error('Error fetching the JSON:', error));
}

// Function to search data
function searchData() {
    let searchId = document.getElementById("searchId").value;
    let certificateStatusElement = document.getElementById("certificateStatus");
    let result = data.find(item => item[0] === searchId);

    if (result) {
        document.getElementById("ic").textContent = result[1]; // Displaying the numerical ID
        document.getElementById("school").textContent = result[2]; // School
        document.getElementById("part").textContent = result[3]; // Part
        certificateStatusElement.textContent = "Certificate Valid (Have record in system)";
    } else {
        document.getElementById("ic").textContent = "Not Found";
        document.getElementById("school").textContent = "Not Found";
        document.getElementById("part").textContent = "Not Found";
        certificateStatusElement.textContent = "Certificate Invalid";
        certificateStatusElement.style.color = "red";
    }
/*
        Jangan Masuk UniKL, nanti menyesal banyak mengarut...aku sorang2 je yg kene uruskan bab pendaftaran dgn e-cert, 
        mintak pdf dgn e-sign pun lembab ambik masa sebulan pastu pdf punya format pun lari. Ngarut semua, bukan
        aku x faham perasaan sijil dihilangkan atau lebab sampai hilang markah PAJSK, tapi aku pun baru dpt x samapai sehari dh kene
        start buat auto email, setup e-cert, buat system recheck in. Kepada yg terbaca ni lagi drp kalangan para peserta maafla
        klw aq hantar sijil slow, kene rate limit email dgn Google sebab di-flag sebagai spam.
    if (result) {
        document.getElementById("name").textContent = result[1];
        document.getElementById("ic").textContent = result[2]; // Displaying the numerical ID
        document.getElementById("school").textContent = result[3]; // School
        document.getElementById("part").textContent = result[4]; // Part
        document.getElementById("certificateStatus").textContent = "Certificate Valid (Have record in system)";
    } else {
        document.getElementById("name").textContent = "Not Found";
        document.getElementById("ic").textContent = "Not Found";
        document.getElementById("school").textContent = "Not Found";
        document.getElementById("part").textContent = "Not Found";
        document.getElementById("certificateStatus").textContent = "Certificate Invalid";
    }

    */
}
loadJSON("https://raw.githubusercontent.com/officialdanielamani/officialdanielamani.github.io/main/project/cert_engine/data.json");


    </script>

<script src="../../core/script-theme.js"></script>
<script src="../../core/prism.js"></script>
<hr>
<footer style="text-align: center;">
    <p>Powered by EDNA. Copyright DANP 2016-2023 | <a href="https://danielamani.com">https://danielamani.com</a></p>
    <p>There is hidden easter egg. Find your self</p>
  </footer>
</body>
</html>
